<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creative Doodle Pad</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body { font-family: 'Poppins', sans-serif; background:#fff5e6; margin:0; text-align:center; }
header { padding:25px; }
header h1 { font-size:36px; color:#b29b80; }
header p { font-size:18px; color:#4f4f4f; }
#toolbar { display:flex; justify-content:center; flex-wrap:wrap; gap:10px; margin-bottom:10px; }
#toolbar select, #toolbar button, #toolbar input[type=color] { padding:8px 12px; border-radius:12px; border:1px solid #ccc; font-size:14px; cursor:pointer; }
#canvasContainer { display:flex; justify-content:center; margin-bottom:20px; }
canvas { border:2px solid #b29b80; border-radius:12px; background:white; touch-action:none; }
</style>
</head>
<body>

<header>
  <h1>Creative Doodle Pad</h1>
  <p>Draw, color, add shapes & stickers, and save your masterpiece!</p>
</header>

<div id="toolbar">
  <label>Color: <input type="color" id="colorPicker" value="#b29b80"></label>
  <label>Brush: 
    <select id="brushSize">
      <option value="2">Small</option>
      <option value="5" selected>Medium</option>
      <option value="10">Large</option>
      <option value="20">XL</option>
    </select>
  </label>
  <button id="eraserBtn">Eraser</button>
  <button id="clearBtn">Clear</button>
  <button id="saveBtn">Save</button>
  <button id="rainbowBtn">ðŸŒˆ Rainbow Brush</button>
  <select id="shapes">
    <option value="">Add Shape</option>
    <option value="circle">Circle</option>
    <option value="square">Square</option>
    <option value="star">Star</option>
  </select>
  <select id="stickers">
    <option value="">Add Sticker</option>
    <option value="ðŸ˜Š">ðŸ˜Š</option>
    <option value="ðŸŒ¸">ðŸŒ¸</option>
    <option value="ðŸŒˆ">ðŸŒˆ</option>
    <option value="âœ¨">âœ¨</option>
  </select>
</div>

<div id="canvasContainer">
  <canvas id="doodleCanvas" width="800" height="500"></canvas>
</div>

<script>
const canvas = document.getElementById('doodleCanvas');
const ctx = canvas.getContext('2d');
let painting = false;
let brushColor = document.getElementById('colorPicker').value;
let brushSize = document.getElementById('brushSize').value;
let erasing = false;
let rainbow = false;
let hue = 0;

// Canvas events
canvas.addEventListener('mousedown', () => painting=true);
canvas.addEventListener('mouseup', ()=> {painting=false; ctx.beginPath();});
canvas.addEventListener('mouseleave', ()=> {painting=false; ctx.beginPath();});
canvas.addEventListener('mousemove', draw);
canvas.addEventListener('touchstart', e=>{painting=true; draw(e); e.preventDefault();});
canvas.addEventListener('touchend', ()=>{painting=false; ctx.beginPath();});
canvas.addEventListener('touchmove', draw);

function draw(e){
  if(!painting) return;
  ctx.lineWidth = brushSize;
  ctx.lineCap = 'round';
  ctx.strokeStyle = erasing ? '#fff' : (rainbow ? `hsl(${hue},100%,50%)` : brushColor);
  if(rainbow) hue++; if(hue>360) hue=0;

  let x, y;
  if(e.touches){
    const rect = canvas.getBoundingClientRect();
    x = e.touches[0].clientX - rect.left;
    y = e.touches[0].clientY - rect.top;
  } else {
    x = e.offsetX;
    y = e.offsetY;
  }

  ctx.lineTo(x,y);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(x,y);
}

// Toolbar
document.getElementById('colorPicker').addEventListener('input', e=>{brushColor=e.target.value; rainbow=false;});
document.getElementById('brushSize').addEventListener('change', e=>brushSize=e.target.value);
document.getElementById('eraserBtn').addEventListener('click', ()=>{erasing=true; rainbow=false;});
document.getElementById('clearBtn').addEventListener('click', ()=>ctx.clearRect(0,0,canvas.width,canvas.height));
document.getElementById('saveBtn').addEventListener('click', ()=>{
  const link=document.createElement('a');
  link.download='doodle.png';
  link.href=canvas.toDataURL();
  link.click();
});
document.getElementById('rainbowBtn').addEventListener('click', ()=>{rainbow=true; erasing=false;});

// Shapes
document.getElementById('shapes').addEventListener('change', e=>{
  const shape = e.target.value;
  if(!shape) return;
  const centerX = canvas.width/2;
  const centerY = canvas.height/2;
  ctx.fillStyle = brushColor;
  ctx.strokeStyle = brushColor;
  ctx.lineWidth = 2;
  if(shape==='circle') ctx.beginPath(), ctx.arc(centerX,centerY,50,0,2*Math.PI), ctx.fill();
  if(shape==='square') ctx.fillRect(centerX-50,centerY-50,100,100);
  if(shape==='star'){
    drawStar(centerX,centerY,5,50,20);
  }
  e.target.value = '';
});

function drawStar(cx,cy,spikes,outer,inner){
  let rot = Math.PI/2*3;
  let x=cx,y=cy;
  const step = Math.PI/spikes;
  ctx.beginPath();
  ctx.moveTo(cx,cy-outer);
  for(let i=0;i<spikes;i++){
    x = cx + Math.cos(rot)*outer;
    y = cy + Math.sin(rot)*outer;
    ctx.lineTo(x,y);
    rot += step;
    x = cx + Math.cos(rot)*inner;
    y = cy + Math.sin(rot)*inner;
    ctx.lineTo(x,y);
    rot += step;
  }
  ctx.closePath();
  ctx.fill();
}

// Stickers
document.getElementById('stickers').addEventListener('change', e=>{
  const sticker = e.target.value;
  if(!sticker) return;
  ctx.font = '50px Arial';
  ctx.fillText(sticker, Math.random()*700+50, Math.random()*400+50);
  e.target.value='';
});
</script>

</body>
</html>
